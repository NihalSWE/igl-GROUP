{% extends "frontend/base.html" %}
{% load static %}


{% block body %} 
        <!-- start page title -->
        <section 
    class="pt-0 cover-background ipad-top-space-margin sm-pb-0" 
    style="background-image: url('{{ banner.background_image.url }}');">
    <div class="shape-image-animation bottom-0 p-0 w-100 d-none d-md-block"> 
        <svg xmlns="http://www.w3.org/2000/svg" widht="3000" height="400" viewbox="0 180 2500 200" fill="#ffffff"> 
            <path class="st1" d="M 0 250 C 1200 400 1200 50 3000 250 L 3000 550 L 0 550 L 0 250">
            <animate attributename="d" dur="5s" values="M 0 250 C 1200 400 1200 50 3000 250 L 3000 550 L 0 550 L 0 250;
                        M 0 250 C 400 50 400 400 3000 250 L 3000 550 L 0 550 L 0 250;
                        M 0 250 C 1200 400 1200 50 3000 250 L 3000 550 L 0 550 L 0 250" repeatcount="indefinite"></animate>
            </path>
            </svg>
    </div>
    <div class="container">
        <div class="row align-items-center justify-content-center h-500px sm-h-300px">
            <div class="col-12 col-md-6 position-relative text-center page-title-extra-large d-flex flex-wrap flex-column align-items-center justify-content-center" data-anime='{ "el": "childs", "translateY": [30, 0], "opacity": [0,1], "duration": 600, "delay": 0, "staggervalue": 300, "easing": "easeOutQuad" }'>
                <h1 class="mb-20px text-white fw-600 ls-minus-1px">{{ banner.title }}</h1>
            </div> 
        </div>
    </div>
</section>

        <!-- end page title -->
        <!-- start section -->
        <section class="pt-3 sm-pt-50px">
            <div class="container">
                <div class="row justify-content-center">
                    <!-- Contact Schedule Section -->
                    <div class="col-xl-5 col-lg-8 col-md-10 lg-mb-50px">
                        <div class="position-sticky top-120px lg-top-0px lg-position-relative text-center text-xl-start">
                            <span class="ps-25px pe-25px mb-20px text-uppercase text-base-color fs-12 lh-40 fw-700 border-radius-100px bg-gradient-very-light-gray-transparent d-inline-flex justify-content-center justify-content-xl-start">
                                <i class="bi bi-chat-square-dots fs-16 me-5px"></i> Let's work together
                            </span>
                            <h3 class="text-dark-gray ls-minus-2px fw-700">{{ contact_schedule.title }}</h3>
                            <p class="mb-35px w-90 lg-w-100 sm-mb-25px">{{ contact_schedule.description }}</p>
                            <a href="{{ contact_schedule.button_link }}" class="btn btn-extra-large btn-switch-text btn-gradient-purple-pink left-icon btn-rounded me-10px ls-0px">
                                <span>
                                    <span><i class="bi bi-telephone-outbound"></i></span>
                                    <span class="btn-double-text" data-text="Schedule a call">{{ contact_schedule.button_text }}</span>
                                </span>
                            </a>
                        </div>
                    </div>
        
                    <!-- Contact Locations Section -->
<div class="col-xl-6 col-lg-8 col-md-10 offset-xl-1">
    <div class="row row-cols-1 justify-content-center">
        {% for location in contact_locations %}
        <div class="col services-box-style-02 mb-30px">
            <div class="row g-0 box-shadow-quadruple-large border-radius-6px overflow-hidden" style="height: 250px;">
                <div class="col-lg-6 col-sm-6">
                    <!-- Adjust the image height -->
                    <div class="h-100 cover-background" style="background-image: url('{{ location.image.url }}'); height: 100%; max-height: 250px;"></div>
                </div>
                <div class="col-lg-6 col-sm-6 bg-white box-shadow-extra-large p-20px d-flex align-items-center">
                    <div class="services-box-content last-paragraph-no-margin">
                        <span class="d-block text-dark-gray primary-font fw-700 fs-19 mb-10px">{{ location.city }}</span>
                        <p class="mb-10px">{{ location.address }}</p>
                        <!-- View Map Link with map_url -->
                        <a href="{{ location.map_url }}" class="btn btn-link text-dark-gray" target="_blank">View map</a>
                        <div class="text-dark-gray fw-600">
                            <i class="feather icon-feather-phone-call icon-small me-10px text-dark-gray"></i>
                            <a href="tel:{{ location.phone_number }}">{{ location.phone_number }}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

                    
                    
                </div>
            </div>
        </section>
        
        <!-- end section -->
        <!-- start section --> 
        <section class="bg-very-light-gray position-relative">     
            <div class="container">
                <div class="row mb-8">
                    <div class="col-xl-5 col-lg-6 md-mb-50px" data-anime='{ "el": "childs", "translateX": [-50, 0], "opacity": [0,1], "duration": 1200, "delay": 0, "staggervalue": 150, "easing": "easeOutQuad" }'>  
                        <div class="bg-white border-radius-6px box-shadow-quadruple-large p-10 ps-12 pe-12 lg-ps-8 lg-pe-8 h-100 d-flex flex-wrap flex-column justify-content-center" data-anime='{ "el": "childs", "translateY": [0, 0], "opacity": [0,1], "duration": 1200, "delay": 0, "staggervalue": 150, "easing": "easeOutQuad" }'>
                            <span class="ps-25px pe-25px mb-20px text-uppercase text-base-color fs-12 lh-40 fw-700 border-radius-100px bg-gradient-very-light-gray-transparent d-inline-flex align-self-start"><i class="bi bi-chat-square-dots fs-16 me-5px"></i>Lets's work together</span>
                            <h4 class="text-dark-gray ls-minus-1px fw-700 mb-15px">Ready to help you!</h4>
                            <p class="w-85 sm-w-100">We're here to help and answer any question you might have.</p>
                            <div class="row row-cols-1 row-cols-sm-2">
                                <div class="col last-paragraph-no-margin mb-25px">
                                    <p>Call us directly?</p>
                                    <a href="tel:12345678910" class="text-dark-gray fw-600">+1 234 567 8910</a>
                                </div>
                                <div class="col last-paragraph-no-margin mb-25px">
                                    <p>Need live support?</p>
                                    <a href="cdn-cgi/l/email-protection.html#3851565e57785c5755595156165b5755" class="text-dark-gray fw-600"><span class="__cf_email__" data-cfemail="afc6c1c9c0efcbc0c2cec6c181ccc0c2">[email&#160;protected]</span></a>
                                </div>
                                <div class="col last-paragraph-no-margin sm-mb-25px">
                                    <p>Join growing team?</p>
                                    <a href="cdn-cgi/l/email-protection.html#d7bdb8beb997b3b8bab6beb9f9b4b8ba" class="text-dark-gray fw-600"><span class="__cf_email__" data-cfemail="88e2e7e1e6c8ece7e5e9e1e6a6ebe7e5">[email&#160;protected]</span></a>    
                                </div>
                                <div class="col last-paragraph-no-margin">
                                    <p>Visit headquarters?</p>
                                    <a href="https://maps.google.com/maps?ll=-37.805688,144.962312&z=17&t=m&hl=en-US&gl=IN&mapclient=embed&cid=13153204942596594449" target="_blank" class="text-dark-gray fw-600">View on google map</a>    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 offset-xl-1 md-mb-50px sm-mb-0">
                        <h3 class="text-dark-gray ls-minus-2px fw-700">Looking for any help?</h3>
                        
                        <!-- Success message will be shown here after the form is submitted -->
                        <div id="success-message" class="alert alert-success text-center mb-4" style="display: none;"></div>
                    
                        <!-- New form design with simpler structure and better layout -->
                        <form id="contact-form" class="contact-form-style-03">
                            {% csrf_token %}
                            
                            <!-- Name Input -->
                            <div class="form-group mb-3">
                                <label for="name" class="form-label text-dark-gray fw-600">Enter your name*</label>
                                <input class="form-control border-color-dark-gray rounded-0 px-3 py-2" id="name" type="text" name="name" placeholder="What's your good name" required>
                            </div>
                    
                            <!-- Email Input -->
                            <div class="form-group mb-3">
                                <label for="email" class="form-label text-dark-gray fw-600">Email address*</label>
                                <input class="form-control border-color-dark-gray rounded-0 px-3 py-2" id="email" type="email" name="email" placeholder="Enter your email address" required>
                            </div>
                    
                            <!-- Message Textarea -->
                            <div class="form-group mb-3">
                                <label for="message" class="form-label text-dark-gray fw-600">Your message*</label>
                                <textarea class="form-control border-color-dark-gray rounded-0 px-3 py-2" name="comment" placeholder="Describe your message" rows="4" required></textarea>
                            </div>
                    
                            <!-- Submit Button -->
                            <div class="d-flex justify-content-center mt-4">
                                <button class="btn btn-dark-gray btn-round px-5 py-2" type="submit">Send Message</button>
                            </div>
                    
                            <!-- Privacy note below -->
                            <div class="mt-3 text-center">
                                <p class="fs-14 text-dark-gray mb-0">We will never collect information about you without your explicit consent.</p>
                            </div>
                        </form>
                    </div>
                    
                  
                    
                    
                </div>
            </div>
            <div class="shape-image-animation p-0 w-100 bottom-minus-40px xl-bottom-0px d-none d-md-block"> 
                <svg xmlns="http://www.w3.org/2000/svg" widht="3000" height="400" viewbox="0 180 2500 200" fill="#ffffff"> 
                <path class="st1" d="M 0 250 C 1200 400 1200 50 3000 250 L 3000 550 L 0 550 L 0 250">
                <animate attributename="d" dur="5s" values="M 0 250 C 1200 400 1200 50 3000 250 L 3000 550 L 0 550 L 0 250;
                            M 0 250 C 400 50 400 400 3000 250 L 3000 550 L 0 550 L 0 250;
                            M 0 250 C 1200 400 1200 50 3000 250 L 3000 550 L 0 550 L 0 250" repeatcount="indefinite"></animate>
                </path>
                </svg>
            </div>
        </section>
        <!-- end section -->


  <!-- jQuery Script to handle the form submission via AJAX -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
  $(document).ready(function() {
      // When the form is submitted
      $('#contact-form').submit(function(event) {
          event.preventDefault();  // Prevent the default form submission
  
          var formData = $(this).serialize();  // Get form data
  
          $.ajax({
              type: 'POST',
              url: '{% url "contact" %}',  // The URL for the contact form submission
              data: formData,
              success: function(response) {
                  // On success, display the success message
                  $('#success-message').text(response.success_message).show();
                  
                  // Clear the form fields
                  $('#contact-form')[0].reset();
              },
              error: function(xhr, errmsg, err) {
                  // Handle error (if needed)
                  console.log("Error: " + errmsg);
              }
          });
      });
  });
  </script>
  
  
  
  

        {% endblock %}






       